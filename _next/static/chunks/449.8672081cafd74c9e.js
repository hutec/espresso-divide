(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[449,214],{3454:function(e,t,n){"use strict";var r,o;e.exports=(null===(r=n.g.process)||void 0===r?void 0:r.env)&&"object"===typeof(null===(o=n.g.process)||void 0===o?void 0:o.env)?n.g.process:n(7663)},3449:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r=n(5893),o=n(7294);const i=(0,o.createContext)(null),u=i.Provider;function c(){const e=(0,o.useContext)(i);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var a=n(5243);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function s({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:c,placeholder:s,style:f,whenReady:h,zoom:d,...p},v){const[g]=(0,o.useState)({className:i,id:c,style:f}),[m,y]=(0,o.useState)(null);(0,o.useImperativeHandle)(v,(()=>m?.map??null),[m]);const b=(0,o.useCallback)((r=>{if(null!==r&&null===m){const o=new a.Map(r,p);null!=n&&null!=d?o.setView(n,d):null!=e&&o.fitBounds(e,t),null!=h&&o.whenReady(h),y(function(e){return Object.freeze({__version:1,map:e})}(o))}}),[]);(0,o.useEffect)((()=>()=>{m?.map.remove()}),[]);const x=m?o.createElement(u,{value:m},r):s??null;return o.createElement("div",l({},g,{ref:b}),x)}const f=(0,o.forwardRef)(s);n(3935);function h(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function d(e,t){return null==t?function(t,n){return(0,o.useRef)(e(t,n))}:function(n,r){const i=(0,o.useRef)(e(n,r)),u=(0,o.useRef)(n),{instance:c}=i.current;return(0,o.useEffect)((function(){u.current!==n&&(t(c,n,u.current),u.current=n)}),[c,n,r]),i}}function p(e,t){const n=(0,o.useRef)();(0,o.useEffect)((function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}}),[e,t])}function v(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function g(e,t){(0,o.useEffect)((function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}}),[t,e])}function m(e){return function(t){const n=c(),r=e(v(t,n),n);return function(e,t){const n=(0,o.useRef)(t);(0,o.useEffect)((function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t}),[e,t])}(n.map,t.attribution),p(r.current,t.eventHandlers),g(r.current,n),r}}function y(e){return function(t){const n=c(),r=e(v(t,n),n);return p(r.current,t.eventHandlers),g(r.current,n),function(e,t){const n=(0,o.useRef)();(0,o.useEffect)((function(){if(t.pathOptions!==n.current){const r=t.pathOptions??{};e.instance.setStyle(r),n.current=r}}),[e,t])}(r.current,t),r}}const b=function(e){function t(t,n){const{instance:r}=e(t).current;return(0,o.useImperativeHandle)(n,(()=>r)),null}return(0,o.forwardRef)(t)}(m(d((function({url:e,...t},n){return h(new a.TileLayer(e,v(t,n)),n)}),(function(e,t,n){const{opacity:r,zIndex:o}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=o&&o!==n.zIndex&&e.setZIndex(o)}))));function x(){return c().map}const w=function(e,t){return function(e){function t(t,n){const{instance:r,context:i}=e(t).current;return(0,o.useImperativeHandle)(n,(()=>r)),null==t.children?null:o.createElement(u,{value:i},t.children)}return(0,o.forwardRef)(t)}(y(d(e,t)))}((function({data:e,...t},n){const r=new a.GeoJSON(e,t);return h(r,(o=n,i={overlayContainer:r},Object.freeze({...o,...i})));var o,i}),(function(e,t,n){t.style!==n.style&&(null==t.style?e.resetStyle():e.setStyle(t.style))}));var C=n(1163),A=n(1864),T=n.n(A);function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,c=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(a){c=!0,o=a}finally{try{u||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O=function(e){var t=e.track,n=(0,o.useState)(0),i=n[0],u=n[1],c=x(),l=(0,C.useRouter)();return(0,o.useEffect)((function(){var e=T().join(l.basePath,t).replace(".gpx",".geojson");fetch(e).then((function(e){return e.json()})).then((function(e){u(e),a.bounds=function(e){var t=E(e.reduce((function(e,t){var n=E(t,2),r=n[0],o=n[1];return e[0]=Math.min(e[0],o),e[1]=Math.min(e[1],r),e[2]=Math.max(e[2],o),e[3]=Math.max(e[3],r),e}),[1/0,1/0,-1/0,-1/0]),4);return[[t[0],t[1]],[t[2],t[3]]]}(e.features[0].geometry.coordinates),c.fitBounds(a.bounds,{padding:[50,50]})}))}),[]),i?(0,r.jsx)(w,{data:i}):null};function k(e){var t=e.track;return(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"my-5 h-1/2",children:(0,r.jsxs)(f,{center:[51.505,-.09],zoom:4,scrollWheelZoom:!1,className:"h-96 w-full",children:[(0,r.jsx)(b,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,r.jsx)(O,{track:t})]})})})}},1864:function(e,t,n){var r=n(3454);!function(){"use strict";var t={977:function(e){function t(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",o=0,i=-1,u=0,c=0;c<=e.length;++c){if(c<e.length)n=e.charCodeAt(c);else{if(47===n)break;n=47}if(47===n){if(i===c-1||1===u);else if(i!==c-1&&2===u){if(r.length<2||2!==o||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var a=r.lastIndexOf("/");if(a!==r.length-1){-1===a?(r="",o=0):o=(r=r.slice(0,a)).length-1-r.lastIndexOf("/"),i=c,u=0;continue}}else if(2===r.length||1===r.length){r="",o=0,i=c,u=0;continue}t&&(r.length>0?r+="/..":r="..",o=2)}else r.length>0?r+="/"+e.slice(i+1,c):r=e.slice(i+1,c),o=c-i-1;i=c,u=0}else 46===n&&-1!==u?++u:u=-1}return r}var o={resolve:function(){for(var e,o="",i=!1,u=arguments.length-1;u>=-1&&!i;u--){var c;u>=0?c=arguments[u]:(void 0===e&&(e=r.cwd()),c=e),t(c),0!==c.length&&(o=c+"/"+o,i=47===c.charCodeAt(0))}return o=n(o,!i),i?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),o=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&o&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];t(r),r.length>0&&(void 0===e?e=r:e+="/"+r)}return void 0===e?".":o.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=o.resolve(e))===(n=o.resolve(n)))return"";for(var r=1;r<e.length&&47===e.charCodeAt(r);++r);for(var i=e.length,u=i-r,c=1;c<n.length&&47===n.charCodeAt(c);++c);for(var a=n.length-c,l=u<a?u:a,s=-1,f=0;f<=l;++f){if(f===l){if(a>l){if(47===n.charCodeAt(c+f))return n.slice(c+f+1);if(0===f)return n.slice(c+f)}else u>l&&(47===e.charCodeAt(r+f)?s=f:0===f&&(s=0));break}var h=e.charCodeAt(r+f);if(h!==n.charCodeAt(c+f))break;47===h&&(s=f)}var d="";for(f=r+s+1;f<=i;++f)f!==i&&47!==e.charCodeAt(f)||(0===d.length?d+="..":d+="/..");return d.length>0?d+n.slice(c+s):(c+=s,47===n.charCodeAt(c)&&++c,n.slice(c))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,o=-1,i=!0,u=e.length-1;u>=1;--u)if(47===(n=e.charCodeAt(u))){if(!i){o=u;break}}else i=!1;return-1===o?r?"/":".":r&&1===o?"//":e.slice(0,o)},basename:function(e,n){if(void 0!==n&&"string"!==typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,o=0,i=-1,u=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var c=n.length-1,a=-1;for(r=e.length-1;r>=0;--r){var l=e.charCodeAt(r);if(47===l){if(!u){o=r+1;break}}else-1===a&&(u=!1,a=r+1),c>=0&&(l===n.charCodeAt(c)?-1===--c&&(i=r):(c=-1,i=a))}return o===i?i=a:-1===i&&(i=e.length),e.slice(o,i)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!u){o=r+1;break}}else-1===i&&(u=!1,i=r+1);return-1===i?"":e.slice(o,i)},extname:function(e){t(e);for(var n=-1,r=0,o=-1,i=!0,u=0,c=e.length-1;c>=0;--c){var a=e.charCodeAt(c);if(47!==a)-1===o&&(i=!1,o=c+1),46===a?-1===n?n=c:1!==u&&(u=1):-1!==n&&(u=-1);else if(!i){r=c+1;break}}return-1===n||-1===o||0===u||1===u&&n===o-1&&n===r+1?"":e.slice(n,o)},format:function(e){if(null===e||"object"!==typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+e+r:r}("/",e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,o=e.charCodeAt(0),i=47===o;i?(n.root="/",r=1):r=0;for(var u=-1,c=0,a=-1,l=!0,s=e.length-1,f=0;s>=r;--s)if(47!==(o=e.charCodeAt(s)))-1===a&&(l=!1,a=s+1),46===o?-1===u?u=s:1!==f&&(f=1):-1!==u&&(f=-1);else if(!l){c=s+1;break}return-1===u||-1===a||0===f||1===f&&u===a-1&&u===c+1?-1!==a&&(n.base=n.name=0===c&&i?e.slice(1,a):e.slice(c,a)):(0===c&&i?(n.name=e.slice(1,u),n.base=e.slice(1,a)):(n.name=e.slice(c,u),n.base=e.slice(c,a)),n.ext=e.slice(u,a)),c>0?n.dir=e.slice(0,c-1):i&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,e.exports=o}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}},u=!0;try{t[e](i,i.exports,o),u=!1}finally{u&&delete n[e]}return i.exports}o.ab="//";var i=o(977);e.exports=i}()},7663:function(e){!function(){var t={162:function(e){var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function u(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"===typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var c,a=[],l=!1,s=-1;function f(){l&&c&&(l=!1,c.length?a=c.concat(a):s=-1,a.length&&h())}function h(){if(!l){var e=u(f);l=!0;for(var t=a.length;t;){for(c=a,a=[];++s<t;)c&&c[s].run();s=-1,t=a.length}c=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new d(e,t)),1!==a.length||l||u(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}},u=!0;try{t[e](i,i.exports,r),u=!1}finally{u&&delete n[e]}return i.exports}r.ab="//";var o=r(162);e.exports=o}()},1163:function(e,t,n){e.exports=n(880)}}]);