"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[973],{7973:function(t,e,n){n.r(e),n.d(e,{MapOverview:function(){return g},default:function(){return v}});var o=n(5893),r=n(5715),s=n(2013),l=n(9153),a=n(4867),c=n(2604),u=n(7294),i=n(1163),p=n(1864),h=n.n(p),d=n(1664),f=n.n(d),m=n(8670),x=n.n(m),j=function(t){var e=t.track,n=t.updateMapBounds,r=void 0===n||n,s=t.color,p=void 0===s?"#000000":s,d=t.title,m=void 0===d?null:d,x=t.slug,j=void 0===x?null:x,g=(0,u.useState)(0),v=g[0],w=g[1],b=(0,l.Sx)(),k=(0,i.useRouter)();return(0,u.useEffect)((function(){var t=h().join(k.basePath,e).replace(".gpx",".geojson");fetch(t).then((function(t){return t.json()})).then((function(t){r&&b.fitBounds(t.bounds,{padding:[50,50]}),w(t)}))}),[]),v?(0,o.jsx)(a.Q,{data:v,color:p,children:!!j&&!!m&&(0,o.jsx)(c.G,{children:(0,o.jsx)(f(),{href:"/posts/".concat(j),children:(0,o.jsx)("a",{className:"hover:underline",children:m})})})}):null};function g(t){var e=t.posts,n=t.bounds,l=x().scale(["hotpink","#2A4858"]).mode("lch").colors(3),a=e.map((function(t,e){return{post:t,color:l[e%l.length]}}));return(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:"my-5 h-1/2",children:(0,o.jsxs)(r.h,{bounds:n,zoom:4,scrollWheelZoom:!0,className:"h-96 w-full",children:[(0,o.jsx)(s.I,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),a.map((function(t){return(0,o.jsx)(j,{track:t.post.track,updateMapBounds:!1,color:t.color,slug:t.post.slug,title:t.post.title},t.post.slug)}))]})})})}function v(t){var e=t.track;return(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:"my-5 h-1/2",children:(0,o.jsxs)(r.h,{center:[51.505,-.09],zoom:4,scrollWheelZoom:!1,className:"h-96 w-full",children:[(0,o.jsx)(s.I,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,o.jsx)(j,{track:e,updateMapBounds:!0})]})})})}}}]);