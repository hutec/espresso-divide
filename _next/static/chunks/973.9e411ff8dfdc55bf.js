"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[973],{7973:function(t,e,o){o.r(e),o.d(e,{MapOverview:function(){return j},default:function(){return v}});var n=o(5893),r=o(5715),s=o(2013),u=o(9153),l=o(4867),a=o(2604),c=o(7294),p=o(1163),i=o(1864),h=o.n(i),d=o(1664),f=o.n(d),g=o(8670),m=o.n(g),x=function(t){var e=t.track,o=t.updateMapBounds,r=void 0===o||o,s=t.color,i=void 0===s?"#000000":s,d=t.title,g=void 0===d?null:d,m=t.slug,x=void 0===m?null:m,j=(0,c.useState)(0),v=j[0],w=j[1],b=(0,u.Sx)(),k=(0,p.useRouter)();return(0,c.useEffect)((function(){var t=h().join(k.basePath,e).replace(".gpx",".geojson");fetch(t).then((function(t){return t.json()})).then((function(t){r&&b.fitBounds(t.bounds,{padding:[50,50]}),w(t)}))}),[]),v?(0,n.jsx)(l.Q,{data:v,color:i,children:!!x&&!!g&&(0,n.jsx)(a.G,{children:(0,n.jsx)(f(),{href:"/posts/".concat(x),children:(0,n.jsx)("a",{className:"hover:underline",children:g})})})}):null};function j(t){var e=t.posts,o=t.bounds,u=m().scale(["hotpink","#2A4858"]).mode("lch").colors(3),l=e.map((function(t,e){return{post:t,color:u[e%u.length]}}));return(0,n.jsxs)(r.h,{bounds:o,zoom:4,scrollWheelZoom:!0,className:"h-full w-full",children:[(0,n.jsx)(s.I,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),l.map((function(t){return(0,n.jsx)(x,{track:t.post.track,updateMapBounds:!1,color:t.color,slug:t.post.slug,title:t.post.title},t.post.slug)}))]})}function v(t){var e=t.track;return(0,n.jsxs)(r.h,{center:[51.505,-.09],zoom:4,scrollWheelZoom:!1,className:"h-full w-full",children:[(0,n.jsx)(s.I,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,n.jsx)(x,{track:e,updateMapBounds:!0})]})}}}]);